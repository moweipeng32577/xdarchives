<?xml version="1.0" encoding="UTF-8"?><ureport><cell expand="None" name="A1" row="1" col="1"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B1" row="1" col="2" col-span="3"><cell-style font-size="10" align="center" valign="middle"></cell-style><chart-value><dataset dataset-name="ds1" type="bar" category-property="waretype" series-property="waretype" series-type="property" value-property="count" collect-type="select"/></chart-value></cell><cell expand="None" name="E1" row="1" col="5"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="A2" row="2" col="1"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B2" row="2" col="2" col-span="3"><cell-style font-size="14" forecolor="0,0,0" font-family="宋体" bold="true" align="center" valign="middle"></cell-style><simple-value><![CDATA[出库统计报表]]></simple-value></cell><cell expand="None" name="E2" row="2" col="5"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="A3" row="3" col="1"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B3" row="3" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" bold="false" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="C3" row="3" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" bold="false" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="D3" row="3" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" bold="false" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="E3" row="3" col="5"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="A4" row="4" col="1"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B4" row="4" col="2"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[日期]]></simple-value></cell><cell expand="None" name="C4" row="4" col="3"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[分类]]></simple-value></cell><cell expand="None" name="D4" row="4" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[合计]]></simple-value></cell><cell expand="None" name="E4" row="4" col="5"><cell-style font-size="10" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="A5" row="5" col="1"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="Down" name="B5" row="5" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="ds1" aggregate="select" property="date" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="C5" row="5" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="ds1" aggregate="select" property="waretype" order="none" mapping-type="simple"></dataset-value></cell><cell expand="None" name="D5" row="5" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="ds1" aggregate="select" property="count" order="none" mapping-type="simple"></dataset-value></cell><cell expand="None" name="E5" row="5" col="5"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="A6" row="6" col="1"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B6" row="6" col="2" col-span="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[总计：]]></simple-value></cell><cell expand="Down" name="D6" row="6" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="ds2" aggregate="select" property="sum" order="none" mapping-type="simple"></dataset-value></cell><cell expand="None" name="E6" row="6" col="5"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><row row-number="1" height="127"/><row row-number="2" height="18"/><row row-number="3" height="5"/><row row-number="4" height="29"/><row row-number="5" height="38"/><row row-number="6" height="29"/><column col-number="1" width="80"/><column col-number="2" width="103"/><column col-number="3" width="103"/><column col-number="4" width="103"/><column col-number="5" width="29"/><datasource name="NeoUnit" type="buildin"><dataset name="ds1" type="sql"><sql><![CDATA[${
  var sql = "select concat(substring(min(o.waretime),1,charindex(\' \',max(o.waretime))-1),\'至\',substring(max(o.waretime),1,charindex(max(\' \',max(o.waretime))-1)) date,o.waretype,count(o.waretype) count FROM st_outware_storages os left join st_outware o on os.outwares_outid = o.outid left join st_storage s on os.storages_stid = s.stid " 
         +" inner join tb_entry_index tei on tei.entryid=s.entry GROUP BY o.waretype";
  var params = "";
  if(param("waretype") != null){
       params = params + "and o.waretype = :waretype "
    
  }
  if(param("starttime") != null){
  	params = params + "and o.waretime >= :starttime "
  }
  if(param("endtime") != null){
  	params = params + "and o.waretime <= :endtime "
  }
  if(params != "" || params != null){
  	sql = "select concat(substring(min(o.waretime),1,charindex(\' \',max(o.waretime))-1),\'至\',substring(max(o.waretime),1,charindex(\' \',max(o.waretime))-1)) date,o.waretype,count(o.waretype) count FROM st_outware_storages os left join st_outware o on os.outwares_outid = o.outid left join st_storage s on os.storages_stid = s.stid " 
         +" inner join  tb_entry_index tei on tei.entryid=s.entry where 1=1 "+params+" GROUP BY o.waretype";
  }
 	return sql;
}]]></sql><field name="date"/><field name="waretype"/><field name="count"/><parameter name="waretype" type="String" default-value=""/><parameter name="starttime" type="String" default-value=""/><parameter name="endtime" type="String" default-value=""/></dataset><dataset name="ds2" type="sql"><sql><![CDATA[${
  var sql = "select sum(count) sum from (select concat(substring(min(o.waretime),1,charindex(\' \',min(t1.waretime))-1),\'至\',substring(max(t1.waretime),1,charindex(\' \',max(o.waretime))-1)) date,o.waretype,count(t1.waretype) count FROM st_outware_storages os left join st_outware o on os.outwares_outid = o.outid left join st_storage s on os.storages_stid = s.stid " 
 +" inner join tb_entry_index tei on tei.entryid=s.entry GROUP BY o.waretype) t";
  var params = "";
  if(param("waretype") != null){
       params = params + "and o.waretype = :waretype "
    
  }
  if(param("starttime") != null){
  	params = params + "and o.waretime >= :starttime "
  }
  if(param("endtime") != null){
  	params = params + "and o.waretime <= :endtime "
  }
  if(params != "" || params != null){
  	sql = "select sum(count) sum from (select concat(substring(min(o.waretime),1,charindex(\' \',min(o.waretime))-1),\'至\',substring(max(o.waretime),1,charindex(\' \',max(o.waretime))-1)) date,o.waretype,count(o.waretype) count FROM st_outware_storages os left join st_outware o on os.outwares_outid = o.outid left join st_storage s on os.storages_stid = s.stid " 
 +" inner join  tb_entry_index tei on tei.entryid=s.entry where 1=1 "+params+" GROUP BY o.waretype) t";
  }
 	return sql;
}]]></sql><field name="sum"/><parameter name="waretype" type="String" default-value=""/><parameter name="starttime" type="String" default-value=""/><parameter name="endtime" type="String" default-value=""/></dataset></datasource><paper type="A4" left-margin="90" right-margin="90"
    top-margin="72" bottom-margin="72" paging-mode="fitpage" fixrows="0"
    width="595" height="842" orientation="portrait" html-report-align="center" bg-image="" html-interval-refresh-value="0" column-enabled="false"></paper></ureport>
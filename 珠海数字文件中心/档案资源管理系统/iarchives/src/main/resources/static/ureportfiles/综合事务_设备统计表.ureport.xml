<?xml version="1.0" encoding="UTF-8"?><ureport><cell expand="None" name="A1" row="1" col="1" top-cell="root" col-span="3"><cell-style font-size="20" forecolor="0,0,0" font-family="宋体" bold="false" align="center" valign="middle"></cell-style><simple-value><![CDATA[设备统计表]]></simple-value></cell><cell expand="None" name="A2" row="2" col="1"><cell-style font-size="11" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[设备]]></simple-value></cell><cell expand="None" name="B2" row="2" col="2" left-cell="root" top-cell="root"><cell-style font-size="11" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[数量]]></simple-value></cell><cell expand="None" name="C2" row="2" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[金额/元]]></simple-value></cell><cell expand="Down" name="A3" row="3" col="1"><cell-style font-size="11" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="equipment" aggregate="group" property="name" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="B3" row="3" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="equipment" aggregate="group" property="count" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="C3" row="3" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="equipment" aggregate="group" property="price" order="none" mapping-type="simple"></dataset-value></cell><cell expand="None" name="A4" row="4" col="1"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[合计]]></simple-value></cell><cell expand="Down" name="B4" row="4" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="count" aggregate="group" property="count" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="C4" row="4" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="price" aggregate="group" property="price" order="none" mapping-type="simple"></dataset-value></cell><row row-number="1" height="38" band="headerrepeat"/><row row-number="2" height="25"/><row row-number="3" height="24"/><row row-number="4" height="19"/><column col-number="1" width="166"/><column col-number="2" width="50"/><column col-number="3" width="74"/><datasource name="NeoUnit" type="buildin"><dataset name="equipment" type="sql"><sql><![CDATA[${
  "select name,count(1) as count,sum(cast(price AS decimal(10,2))) as price from tb_equipment where 1=1"
	+ ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") == param ("endtime")  ?  " and purchasetime = \'" + replace(param("starttime"),"-","") + "\'" : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") != param ("endtime")  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==true  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' " : "")
   + ( emptyparam("starttime")==true && emptyparam("endtime")==false  ?  " and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " :  "")+
" GROUP BY name "
}]]></sql><field name="name"/><field name="count"/><field name="price"/><parameter name="endtime" type="String" default-value=""/><parameter name="starttime" type="String" default-value=""/></dataset><dataset name="count" type="sql"><sql><![CDATA[${
  "select count(1) as count from tb_equipment where 1=1"
	+ ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") == param ("endtime")  ?  " and purchasetime = \'" + replace(param("starttime"),"-","") + "\'" : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") != param ("endtime")  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==true  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' " : "")
   + ( emptyparam("starttime")==true && emptyparam("endtime")==false  ?  " and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " :  "")
}]]></sql><field name="count"/></dataset><dataset name="price" type="sql"><sql><![CDATA[${
  "select sum(cast(price AS decimal(10,2))) as price from tb_equipment where 1=1"
	+ ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") == param ("endtime")  ?  " and purchasetime = \'" + replace(param("starttime"),"-","") + "\'" : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==false && param ("starttime") != param ("endtime")  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " : "" )
   + ( emptyparam("starttime")==false && emptyparam("endtime")==true  ?  " and purchasetime >= \'" + replace(param("starttime"),"-","") + "\' " : "")
   + ( emptyparam("starttime")==true && emptyparam("endtime")==false  ?  " and purchasetime <= \'" + replace(param("endtime"),"-","") + "\' " :  "")
}]]></sql><field name="price"/></dataset></datasource><paper type="A4" left-margin="57" right-margin="57"
                                                             top-margin="28" bottom-margin="72" paging-mode="fitpage" fixrows="0"
                                                             width="595" height="842" orientation="portrait" html-report-align="center" bg-image="" html-interval-refresh-value="0" column-enabled="false"></paper><search-form form-position="up"/></ureport>